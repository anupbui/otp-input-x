import{r as t,c as e,h as i,H as s,g as r}from"./p-4b982196.js";const n=t=>{t.nextElementSibling&&t.nextElementSibling.focus()},o=class{constructor(i){t(this,i),this.otpComplete=e(this,"otpComplete",7),this.otpChange=e(this,"otpChange",7),this.size=6,this.format="number",this.otp="",this.styleName="md",this.txtArr=[]}valueChanged(){this.otpChange.emit(this.otp),this.otp.length===this.size&&this.otpComplete.emit(this.otp)}componentDidLoad(){const t=this.el.shadowRoot;this.txtArr=Array.from(t.querySelectorAll("input")),this.txtArr.forEach(e=>{e.addEventListener("keydown",e=>{e.stopPropagation(),((t,e,i,s)=>{const r=e.querySelector("#"+t.target.id);if(t.ctrlKey)t.preventDefault();else{if([8,37,38].indexOf(t.keyCode)>-1)setTimeout(()=>{(t=>{t.previousElementSibling&&t.previousElementSibling.focus()})(r)},10);else if([39,40,46].indexOf(t.keyCode)>-1)setTimeout(()=>{n(r)},10);else if(t.keyCode>47&&t.keyCode<58||t.keyCode>64&&t.keyCode<91){if(r.value&&1===r.value.length)return("number"===i&&t.key.match(/^[0-9]{1}/)||"text"===i&&t.key.match(/^[A-Za-z0-9]{1}/))&&(r.value=t.key),t.preventDefault(),n(r),!1;"number"===i&&t.key.match(/^[0-9]{1}/)||"text"===i&&t.key.match(/^[A-Za-z0-9]{1}/)?setTimeout(()=>{n(r)},10):t.preventDefault()}setTimeout(()=>{s()},50)}})(e,t,this.format,()=>this.setVal())})})}disconnectedCallback(){this.txtArr.forEach(t=>{t.removeEventListener("keydown",()=>{})})}getOTP(){const t=new Array(this.size);var e;return t.fill(""),((e=this.otp)&&(e+"").length>0&&(e+"").length<=6?(e+"").split(""):[]).forEach((e,i)=>{t[i]=e}),t}getVal(){const t=[];return this.txtArr.forEach(e=>{t.push(e.value)}),t.join("")}setVal(){this.otp=this.getVal()}render(){return i(s,null,i("div",{class:"otp-box"},this.getOTP().map((t,e)=>i("input",{id:"otp20x"+e,size:1,type:this.format,value:t,class:this.styleName}))))}get el(){return r(this)}static get watchers(){return{otp:["valueChanged"]}}};o.style=":host{display:block}div.otp-box{display:inline}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input:focus{background:#F6F6F6;outline:2px solid #82a8fa;outline-offset:-3px;border-radius:0.3rem}input.sm{display:inline-block;margin:0 0.3rem;width:1.2rem;height:1.8rem;border:#c3c3c3 1px solid;border-radius:0.2rem;text-align:center;font-size:125%;color:#5a5a5a}input.md{display:inline-block;margin:0 0.3rem;width:1.6rem;height:2.4rem;border:#c3c3c3 1px solid;border-radius:0.2rem;text-align:center;font-size:125%;color:#5a5a5a}input.lg{display:inline-block;margin:0 0.3rem;width:2rem;height:3rem;border:#c3c3c3 1px solid;border-radius:0.2rem;text-align:center;font-size:125%;color:#5a5a5a}";export{o as otp_input_x}